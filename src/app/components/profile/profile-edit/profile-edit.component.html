

<form class="form-container" [formGroup]="profileForm" (submit)="update()">
  <div class="f">
    <h2 class="mat-display-2">Edit Profile</h2>
  </div>

  <mat-form-field class="f-w">
    <mat-label>Username</mat-label>
    <input matInput formControlName="username" required>
    <mat-error *ngIf="f.username.touched && f.username.errors?.required">Username is required!</mat-error>
    <mat-error *ngIf="f.username.touched && f.username.errors?.maxlength">Username can be maximum 50 char!</mat-error>
  </mat-form-field>
  <mat-form-field class="f-w">
    <mat-label>Password</mat-label>
    <input matInput formControlName="password" required>
    <mat-error *ngIf="f.password.touched && f.password.errors?.required">Password is required!</mat-error>
    <mat-error *ngIf="f.password.touched && f.password.errors?.minlength">Password can be minimum 6 char!</mat-error>
  </mat-form-field>
  <div class="mat-form-field f-w">
    <mat-label style="margin-right:16px">Role</mat-label>
    <mat-radio-group formControlName="role" aria-label="Select an option">
      <!--<mat-radio-button value="Admin">Admin</mat-radio-button>-->
      <mat-radio-button value="Donor">Donor</mat-radio-button>
      <mat-radio-button value="Patient">Patient</mat-radio-button>
    </mat-radio-group>
    <mat-error *ngIf="f.role.touched && f.role.errors">Role is required!</mat-error>
  </div>
  <mat-form-field class="f-w">
    <mat-label>First Name</mat-label>
    <input matInput formControlName="firstName" required>
    <mat-error *ngIf="f.firstName.touched && f.firstName.errors?.required">First name is required!</mat-error>
    <mat-error *ngIf="f.firstName.touched && f.firstName.errors?.maxlength">First name can be maximum 50 char!</mat-error>
  </mat-form-field>
  <mat-form-field class="f-w">
    <mat-label>Last Name</mat-label>
    <input matInput formControlName="lastName" required>
    <mat-error *ngIf="f.lastName.touched && f.lastName.errors?.required">Last name is required!</mat-error>
    <mat-error *ngIf="f.lastName.touched && f.lastName.errors?.maxlength">Last name can be maximum 50 char!</mat-error>
  </mat-form-field>
  <mat-form-field class="f-w">
    <mat-label>Age</mat-label>
    <input matInput type="number" formControlName="age" required>
    <mat-error *ngIf="f.age.touched && f.age.errors?.required">Age is required!</mat-error>
    <!--<mat-error *ngIf="f.age.touched && f.age.errors?.maxlength">Member name can be maximum 50 char!</mat-error>-->
  </mat-form-field>
  <mat-form-field class="f-w">
    <mat-label>Weight</mat-label>
    <input matInput type="number" formControlName="weight" required>
    <mat-error *ngIf="f.weight.touched && f.weight.errors?.required">Weight is required!</mat-error>
    <!--<mat-error *ngIf="f.weight.touched && f.weight.errors?.maxlength">Member name can be maximum 50 char!</mat-error>-->
  </mat-form-field>
  <div class="mat-form-field f-w">
    <mat-label style="margin-right:16px">Gender</mat-label>
    <mat-radio-group formControlName="gender" aria-label="Select an option">
      <mat-radio-button value="Male">Male</mat-radio-button>
      <mat-radio-button value="Female">Female</mat-radio-button>
    </mat-radio-group>
    <mat-error *ngIf="f.gender.touched && f.gender.errors">Gender is required!</mat-error>
  </div>
  <mat-form-field class="f-w">
    <mat-label>Blood Group</mat-label>
    <mat-select formControlName="bloodGroupID">
      <mat-option value="">None</mat-option>
      <mat-option *ngFor="let b of bloodGroups" [value]="b.bloodGroupID">
        {{b.groupName}}
      </mat-option>
    </mat-select>
    <mat-error *ngIf="f.bloodGroupID.touched && f.bloodGroupID.errors">Blood Group is required!</mat-error>
  </mat-form-field>
  <mat-form-field class="f-w">
    <mat-label>Contact No</mat-label>
    <input matInput formControlName="contactNo" required>
    <mat-error *ngIf="f.contactNo.touched && f.contactNo.errors?.required">Contact No is required!</mat-error>
  </mat-form-field>
  <mat-form-field class="f-w">
    <mat-label>Email</mat-label>
    <input matInput formControlName="email" required>
    <mat-error *ngIf="f.email.touched && f.email.errors?.required">Email is required!</mat-error>
  </mat-form-field>
  <mat-form-field class="f-w">
    <mat-label>Location</mat-label>
    <mat-select formControlName="locationID">
      <mat-option value="">None</mat-option>
      <mat-option *ngFor="let l of locations" [value]="l.locationID">
        {{l.locationName}}
      </mat-option>
    </mat-select>
    <mat-error *ngIf="f.locationID.touched && f.locationID.errors">Location is required!</mat-error>
  </mat-form-field>
  <mat-form-field appearance="standard" class="f-w">
    <mat-label>Profile Picture</mat-label>
    <ngx-mat-file-input formControlName="picture" [accept]="'image/*'" (change)="onChange($event)"></ngx-mat-file-input>
    <mat-icon matSuffix>insert_photo</mat-icon>
    <mat-error *ngIf="f.picture.touched && f.picture.errors">Picture is required!</mat-error>
  </mat-form-field>

  <div class="f-w">
    <button [disabled]="profileForm.invalid" mat-raised-button type="submit" color="accent"><mat-icon>save_alt</mat-icon> Update</button>
  </div>
  <div class="f-w">
    <a mat-raised-button color="accent" [routerLink]="['/profile']"><mat-icon>arrow_left_alt</mat-icon> Back to List</a>
  </div>
</form>
